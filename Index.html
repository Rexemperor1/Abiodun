<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>ABRAXAS â€” Power Terminal</title>
<link rel="icon" type="image/svg+xml" href="/abraxas.svg" />
<script src="https://unpkg.com/@phosphor-icons/web"></script>
<style>
  :root{
    --bg:#0b0f13; --panel:#071018; --text:#cdd6e4; --muted:#9aa6b2;
    --accent:#16f2c9; --danger:#ff6b6b;
    --mono: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono", "Segoe UI Mono", monospace;
  }
  html,body{height:100%;margin:0;background:linear-gradient(180deg,#020406 0%, #071018 60%);font-family:Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;}
  .wrap{min-height:100vh;display:flex;align-items:stretch;gap:18px;padding:28px;box-sizing:border-box}
  .left{
    width:420px;background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);
    border-radius:14px;padding:18px;color:var(--text);box-shadow:0 8px 40px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.02);
    border:1px solid rgba(22,242,201,.06);backdrop-filter: blur(6px)
  }
  .right{flex:1;display:flex;flex-direction:column;gap:14px}
  h1{margin:0;font-size:18px;color:var(--accent);font-weight:700;letter-spacing:.8px}
  .meta{font-size:12px;color:var(--muted);margin-top:6px}
  .term {
    flex:1;background:linear-gradient(180deg, rgba(2,6,8,.6), rgba(0,0,0,.4));
    border-radius:12px;padding:14px;display:flex;flex-direction:column;gap:10px;border:1px solid rgba(22,242,201,.06);
    box-shadow:0 12px 30px rgba(0,0,0,.6)
  }

  /* Output */
  .output{flex:1;background:transparent;overflow:auto;padding:8px;border-radius:8px;font-family:var(--mono);font-size:13px;line-height:1.4;color:var(--text)}
  .prompt{display:flex;gap:10px;align-items:flex-start}
  .prompt .badge{font-family:var(--mono);font-size:13px;color:#071018;background:linear-gradient(90deg,var(--accent),#60a5fa);padding:6px 8px;border-radius:8px;font-weight:700}
  .line{white-space:pre-wrap;margin:6px 0}
  .in{display:flex;gap:8px;align-items:center;padding:6px;border-radius:8px;background:rgba(255,255,255,0.01);border:1px solid rgba(255,255,255,0.02)}
  .in input{outline:none;border:none;background:transparent;color:var(--text);font-family:var(--mono);font-size:13px;flex:1;padding:6px}
  .muted{color:var(--muted);font-size:12px}
  .kbd{background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.03);padding:4px 8px;border-radius:6px;font-family:var(--mono);font-size:12px;color:var(--text)}
  .tag{display:inline-block;padding:2px 8px;border-radius:999px;background:rgba(255,255,255,0.02);border:1px solid rgba(255,255,255,0.03);font-size:12px;margin-right:6px}
  .pill{display:inline-block;padding:6px 10px;border-radius:8px;background:linear-gradient(90deg, rgba(22,242,201,.08), rgba(96,165,250,.06));border:1px solid rgba(255,255,255,0.03);font-weight:600;color:var(--accent)}

  /* progress */
  .prog{height:10px;background:rgba(255,255,255,0.04);border-radius:999px;overflow:hidden;border:1px solid rgba(255,255,255,0.02)}
  .prog > i{display:block;height:100%;background:linear-gradient(90deg,var(--accent),#60a5fa);width:0%;transition:width .25s ease}

  /* mini panels */
  .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:12px;border-radius:10px;border:1px solid rgba(255,255,255,0.02);color:var(--text)}
  .row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}

  /* matrix canvas */
  #matrix{position:fixed;right:18px;bottom:18px;width:320px;height:240px;border-radius:8px;overflow:hidden;border:1px solid rgba(22,242,201,.06);display:none}
  #matrix canvas{width:100%;height:100%;display:block}

  /* responsive */
  @media (max-width:960px){ .left{display:none} .wrap{padding:12px} }
</style>
</head>
<body>
  <div class="wrap">
    <aside class="left">
      <h1>ABRAXAS â€” Power Terminal</h1>
      <div class="meta">interactive shell â€¢ browser-native â€¢ CLI vibes</div>

      <div style="margin-top:12px" class="panel">
        <div class="row" style="justify-content:space-between">
          <div>
            <div class="muted">USER</div>
            <div class="pill">abraxas</div>
          </div>
          <div>
            <div class="muted">ROLE</div>
            <div class="tag">root</div>
          </div>
        </div>

        <div style="margin-top:10px" class="muted">HOTKEYS</div>
        <div style="margin-top:6px" class="row">
          <div class="kbd">Ctrl/Cmd + K</div>
          <div class="muted">open command palette</div>
        </div>
        <div style="margin-top:6px" class="row">
          <div class="kbd">Tab</div>
          <div class="muted">autocomplete</div>
        </div>
        <div style="margin-top:6px" class="row">
          <div class="kbd">â†‘ / â†“</div>
          <div class="muted">history</div>
        </div>
      </div>

      <div style="margin-top:12px" class="panel">
        <div class="muted">QUICK LINKS</div>
        <div style="margin-top:8px" class="row">
          <button onclick="termExec('help')" class="kbd">help</button>
          <button onclick="termExec('projects')" class="kbd">projects</button>
          <button onclick="termExec('matrix')" class="kbd">matrix</button>
          <button onclick="termExec('games')" class="kbd">games</button>
        </div>
      </div>

      <div style="margin-top:12px" class="panel">
        <div class="muted">CONTACT</div>
        <div style="margin-top:8px" class="muted">email â€¢ amusatabdullahi2004@gmail.com</div>
        <div class="muted">phone â€¢ 07043283600</div>
      </div>
    </aside>

    <main class="right">
      <section class="term">
        <div class="output" id="out" aria-live="polite"></div>

        <div class="prompt">
          <div class="badge" id="promptBadge">abraxas@NEXUS</div>
          <div style="flex:1">
            <div class="in">
              <input id="cmd" autocomplete="off" spellcheck="false" placeholder="type a command â€” try 'help' (press Tab for autocomplete)" />
              <div style="display:flex;gap:8px;align-items:center">
                <button id="runBtn" class="kbd">Run</button>
              </div>
            </div>
            <div style="margin-top:6px" class="muted">Type commands. For a list: <span class="kbd">help</span></div>
          </div>
        </div>
      </section>

      <div class="row">
        <div id="matrix" aria-hidden="true" class="">
          <canvas id="matrixCanvas"></canvas>
        </div>

        <div style="flex:1" class="panel">
          <div class="muted">TERMINAL SUMMARY</div>
          <div style="margin-top:6px" class="row">
            <div><strong id="uptime">uptime: 0s</strong></div>
            <div class="muted" style="margin-left:12px">|</div>
            <div class="muted">simulated</div>
            <div class="muted" style="margin-left:12px">|</div>
            <div class="muted" id="themeName">theme: cyber</div>
          </div>

          <div style="margin-top:10px">
            <div class="prog"><i id="sysload"></i></div>
          </div>
        </div>
      </div>
    </main>
  </div>

<script>
/* ============================
   Abraxas Power Terminal v1
   Features:
   - typing effect
   - history (â†‘â†“)
   - autocomplete (Tab)
   - commands: help, about, projects, skills, religion, contact, joke, quote, games, guess, hack, matrix, theme, whoami, time, clear, exit, echo
   - mini games & hack sim
   - matrix canvas toggle
   ============================ */

const out = document.getElementById('out');
const cmd = document.getElementById('cmd');
const runBtn = document.getElementById('runBtn');
const uptimeEl = document.getElementById('uptime');
const sysloadEl = document.getElementById('sysload');
const themeName = document.getElementById('themeName');
let startedAt = Date.now();
let loadVal = 0;
let history = JSON.parse(localStorage.getItem('abraxas_history')||'[]');
let hpos = -1;
const CONTEXT = { user:'abraxas', role:'root' };

/* ===== utility: print with optional typing animation ===== */
function print(text='', opts={type:0, pause:0, cls:''}){
  // type: 0 instant, 1 typewriter
  const wrap = document.createElement('div');
  wrap.className = 'line '+(opts.cls||'');
  out.appendChild(wrap);
  if(opts.type===1){
    let i=0;
    const iv = setInterval(()=> {
      wrap.textContent += text[i++] || '';
      out.scrollTop = out.scrollHeight;
      if(i>text.length){ clearInterval(iv); if(opts.pause) setTimeout(()=>{},opts.pause); }
    }, 18);
  } else {
    wrap.textContent = text;
    out.scrollTop = out.scrollHeight;
  }
}

/* ===== tiny typewriter for system messages ===== */
function sysLog(txt){ print(txt, {type:1}); }

/* ===== commands data & helpers ===== */
const projectsList = [
  {id:1, name:'Rex-Emperor-MD', desc:'WhatsApp Bot using Baileys â€” command system, themes, TTS', url:'repo:Rex-Emperor-MD'},
  {id:2, name:'Sport Xpert', desc:'Sport cars, trucks & BRT', url:'site:sportxpert.com'},
  {id:3, name:'Loadworx', desc:'Gov contracting â€” construction, IT, logistics', url:'site:loadworx.net'},
  {id:4, name:'Session Generator', desc:'WhatsApp session/pairing generation UI', url:'local:session-gen'},
  {id:5, name:'Dashboard UI', desc:'ABRAXAS â€” neon dashboard with terminal', url:'local:dashboard'},
  {id:6, name:'QR-Term', desc:'Terminal QR/session printing tool', url:'tool:qr-term'},
  {id:7, name:'Rex Tools', desc:'Toolbox: validators, formatters, quick scripts', url:'lib:rex-tools'},
  {id:8, name:'Anim8', desc:'CSS/JS animation library (personal)', url:'lib:anim8'},
  {id:9, name:'Dev Notes', desc:'Curated knowledge base & snippets', url:'local:dev-notes'},
  {id:10, name:'Playground', desc:'mini-games & hacks for practice', url:'local:playground'}
];

const skills = ['JavaScript (vanilla / Node)', 'Baileys (WhatsApp)', 'HTML/CSS', 'Tailwind + GSAP', 'DevOps basics', 'Full-stack concepts', 'Reverse-engineering', 'Automation', 'CLI tools'];

const jokes = [
  "Why do programmers prefer dark mode? Because light attracts bugs.",
  "A SQL query walks into a bar, walks up to two tables and asks: 'Can I join you?'",
  "To understand recursion you must first understand recursion."
];
const quotes = [
  "Code is poetry â€” write elegantly.",
  "Ship fast, break things responsibly.",
  "Knowledge > Talent. Learn fast, fail often."
];

function helpText(){
  return [
    "Available commands â€” type and hit Enter:",
    "",
    "help            show this help",
    "about           biography & quick links",
    "projects        list projects (10)",
    "skills          show skills",
    "religion        show religion/faith summary",
    "contact         show contact details",
    "whoami          show identity",
    "time            show local time",
    "theme <name>    set theme: cyber | light | matrix",
    "matrix          toggle matrix rain panel",
    "joke            random joke",
    "quote           random quote",
    "games           list mini-games (guess)",
    "guess           play number guess (type guess 1-100)",
    "hack <target>   run a fake hack simulation (fun)",
    "clear           clear terminal",
    "exit            dramatic exit animation",
    "echo <text>     repeat text",
    ""
  ].join('\n');
}

/* ===== autocomplete: simple prefix match ===== */
const CMDNAMES = ['help','about','projects','skills','religion','contact','whoami','time','theme','matrix','joke','quote','games','guess','hack','clear','exit','echo'];
cmd.addEventListener('keydown', (e)=>{
  if(e.key === 'Tab'){ e.preventDefault(); autocomplete(); return; }
  if(e.key === 'ArrowUp'){ e.preventDefault(); if(history.length){ hpos = Math.min(history.length-1, hpos+1); cmd.value = history[hpos] || ''; } return; }
  if(e.key === 'ArrowDown'){ e.preventDefault(); if(hpos<=0){ hpos = -1; cmd.value=''; } else { hpos = hpos-1; cmd.value = history[hpos] || ''; } return; }
  if(e.key === 'Enter'){ e.preventDefault(); termExec(cmd.value.trim()); }
});
runBtn.addEventListener('click', ()=> termExec(cmd.value.trim()));

/* ===== autocomplete implementation ===== */
function autocomplete(){
  const val = cmd.value.trim();
  const parts = val.split(/\s+/);
  const base = parts[0] || '';
  if(!base){
    // show top suggestions
    cmd.value = 'help';
    return;
  }
  const matches = CMDNAMES.filter(c => c.startsWith(base));
  if(matches.length === 1){
    parts[0] = matches[0];
    cmd.value = parts.join(' ') + (parts.length>1? ' ':' ');
  } else if(matches.length>1){
    print('Suggestions: ' + matches.join('   '));
  }
}

/* ===== primary executor ===== */
async function termExec(line){
  if(!line) return;
  // push to history
  history = [line, ...history].slice(0,200);
  localStorage.setItem('abraxas_history', JSON.stringify(history));
  hpos = -1; cmd.value='';

  // echo input
  print(`> ${line}`, {cls:'muted'});

  const parts = line.split(/\s+/);
  const cmdName = parts[0].toLowerCase();
  const args = parts.slice(1);

  switch(cmdName){
    case 'help': print(helpText()); break;
    case 'about':
      print("AbraXas â€” self-taught dev & tinkerer\nFounder: Sport Xpert â€¢ Loadworx\nEmail: amusatabdullahi2004@gmail.com\nNotes: builds WhatsApp bots, dashboards & CLI tools"); break;
    case 'projects':
      projectsList.forEach(p => print(`${p.id}. ${p.name} â€” ${p.desc} (${p.url})`)); break;
    case 'skills':
      skills.forEach(s => print('â€¢ ' + s)); break;
    case 'religion':
      print("Faith: Islam\nPhilosophy: Knowledge is light. Code is a tool to build, not to harm."); break;
    case 'contact':
      print("Email: amusatabdullahi2004@gmail.com\nPhone: 07043283600"); break;
    case 'whoami':
      print("abraxas â€” Rex Emperor\nRole: root\nHobby: coding, hacking (ethical), building tools"); break;
    case 'time':
      print(new Date().toString()); break;
    case 'joke':
      print(jokes[Math.floor(Math.random()*jokes.length)]); break;
    case 'quote':
      print(quotes[Math.floor(Math.random()*quotes.length)]); break;
    case 'games':
      print("games available: guess\nType 'guess' to start the number-guess game (1-100)."); break;
    case 'guess':
      if(args.length){
        // check guess value
        const g = parseInt(args[0],10);
        if(isNaN(g)){ print("usage: guess <number>"); break; }
        evaluateGuess(g);
      } else {
        startGuess(); // start game
      }
      break;
    case 'hack':
      if(args.length===0){ print("usage: hack <target>"); break; }
      fakeHack(args.join(' '));
      break;
    case 'matrix':
      toggleMatrixPanel(); break;
    case 'theme':
      if(args.length===0) { print("theme: cyber | light | matrix"); break; }
      setTheme(args[0]); break;
    case 'clear':
      out.innerHTML=''; break;
    case 'exit':
      await dramaticExit(); break;
    case 'echo':
      print(args.join(' ')); break;
    default:
      print(`Unknown command: ${cmdName} â€” type 'help'`); break;
  }
}

/* ===== guess game ===== */
let guessTarget = null;
function startGuess(){
  guessTarget = Math.floor(Math.random()*100)+1;
  print("I thought of a number between 1 and 100. Try: guess <number>");
}
function evaluateGuess(g){
  if(guessTarget===null){ print("Start a game first with 'guess' or just: guess <number>"); return; }
  if(g === guessTarget){ print("ðŸŽ‰ Correct! You guessed it. Resetting target."); guessTarget=null; }
  else if(g < guessTarget) print("Higher â¬†ï¸");
  else print("Lower â¬‡ï¸");
}

/* ===== fake hack simulation ===== */
async function fakeHack(target){
  print(`Initializing exploit against '${target}'...`, {type:1});
  await sleep(400);
  print("Resolving DNS...", {type:1}); await sleep(300);
  const prog = makeProgress();
  for(let i=0;i<=100;i+= (5 + Math.floor(Math.random()*10))){
    prog(i);
    await sleep(120 + Math.random()*200);
    if(i>60 && Math.random() > 0.97){
      print("Firewall detected â€” flooding..."); await sleep(300);
    }
  }
  prog(100);
  print(`Access granted to ${target}. Data exfiltration simulated (ethical) â€” output stored in /dev/null`);
  print("Note: This is a simulation. Do not run unauthorized attacks.");
}

/* render progress bar in terminal */
function makeProgress(){
  const id = 'tmpProg'+Math.random().toString(36).slice(2,8);
  const wrapper = document.createElement('div');
  wrapper.innerHTML = `<div class="prog"><i id="${id}"></i></div>`;
  out.appendChild(wrapper);
  out.scrollTop = out.scrollHeight;
  return (v)=>{
    const el = document.getElementById(id);
    if(el) el.style.width = Math.max(1, Math.min(100, v)) + '%';
  };
}

/* ===== matrix panel implementation ===== */
const matrixPanel = document.getElementById('matrix');
const matrixCanvas = document.getElementById('matrixCanvas');
const mCtx = matrixCanvas.getContext('2d');
let matrixRunning=false;
let matrixCols=[], matrixInterval=null;
function toggleMatrixPanel(){
  matrixRunning = !matrixRunning;
  matrixPanel.style.display = matrixRunning ? 'block' : 'none';
  if(matrixRunning) startMatrix(); else stopMatrix();
}
function startMatrix(){
  resizeMatrix();
  matrixCols = Array.from({length: Math.floor(matrixCanvas.width/10)}, ()=>0);
  matrixInterval = setInterval(()=> {
    mCtx.fillStyle = 'rgba(0,0,0,0.08)'; mCtx.fillRect(0,0,matrixCanvas.width,matrixCanvas.height);
    mCtx.fillStyle = '#16f2c9'; mCtx.font = '12px monospace';
    for(let i=0;i<matrixCols.length;i++){
      const ch = Math.random() > .9 ? String.fromCharCode(33 + Math.floor(Math.random()*94)) : (Math.random()>0.7? '01': 'Î»');
      mCtx.fillText(ch, i*10, matrixCols[i]*12);
      if(matrixCols[i]*12 > matrixCanvas.height && Math.random()>0.975) matrixCols[i]=0; else matrixCols[i]++;
    }
  }, 50);
}
function stopMatrix(){ clearInterval(matrixInterval); }
function resizeMatrix(){
  matrixCanvas.width = matrixPanel.clientWidth;
  matrixCanvas.height = matrixPanel.clientHeight;
}
window.addEventListener('resize', ()=> { if(matrixRunning) resizeMatrix(); });

/* ===== theme handling ===== */
function setTheme(t){
  t = t.toLowerCase();
  themeName.textContent = 'theme: '+t;
  if(t==='light'){
    document.documentElement.style.setProperty('--bg', '#f7f9fb');
    document.documentElement.style.background = 'linear-gradient(180deg,#f8fafc,#eef2f7)';
  } else if(t==='matrix'){
    // activate matrix small panel
    toggleMatrixPanel();
  } else {
    // cyber default
    document.documentElement.style.background = 'linear-gradient(180deg,#020406 0%, #071018 60%)';
  }
  localStorage.setItem('abraxas_theme', t);
}

/* ===== dramatic exit ===== */
async function dramaticExit(){
  print("Shutting down services...", {type:1});
  const p = makeProgress();
  for(let i=0;i<=100;i+=10){ p(i); await sleep(120); }
  print("Goodbye, Rex Emperor. Session terminated.");
  // subtle visual fade
  document.querySelector('.term').style.transition = 'opacity .8s';
  document.querySelector('.term').style.opacity = '0.25';
}

/* ===== uptime & sysload updater ===== */
setInterval(()=> {
  const s = Math.floor((Date.now()-startedAt)/1000);
  uptimeEl.textContent = 'uptime: '+s+'s';
  // animate sysload
  loadVal = (loadVal + Math.random()*8 - 2);
  loadVal = Math.max(2, Math.min(92, loadVal));
  sysloadEl.style.width = loadVal + '%';
}, 1000);

/* ===== little helpers ===== */
function sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }

/* ===== initial greeting & restore history theme ===== */
print("Welcome back, abraxas â€” power terminal online.\nType 'help' to see commands.\n", {type:1});
const savedTheme = localStorage.getItem('abraxas_theme') || 'cyber';
setTheme(savedTheme);

/* ===== tiny utilities: jokes/quotes pulled earlier... ===== */

/* ===== keyboard shortcuts ===== */
document.addEventListener('keydown', (e)=>{
  // ctrl/cmd + k -> focus input
  if((e.ctrlKey||e.metaKey) && e.key.toLowerCase()==='k'){ e.preventDefault(); cmd.focus(); cmd.select(); }
  // '/' to focus quick
  if(e.key === '/' && document.activeElement !== cmd){ e.preventDefault(); cmd.focus(); cmd.select(); }
});

/* ===== small demo data: auto-start a few messages ===== */
(async function demoBoot(){
  await sleep(600);
  sysLog("Loading user context...");
  await sleep(700);
  sysLog("Mounting virtual filesystemâ€¦");
  await sleep(400);
  print("Type 'projects' to see the 10 top projects.", {type:0});
})();

/* ===== quick external helpers (for dev use) ===== */
window.termExec = termExec; // allow calling from outside, e.g. button
</script>
</body>
</html>
